---
// src/components/BiasIndicator.astro
interface Props {
  bias: string | null;
  size?: "sm" | "md" | "lg";
}

const { bias, size = "md" } = Astro.props;

function getBiasInfo(bias: string | null) {
  if (!bias) return { class: "bias-neutral", label: "Unknown", icon: "—" };
  const lower = bias.toLowerCase();
  if (lower.includes("bullish")) return { class: "bias-bullish", label: bias, icon: "↗" };
  if (lower.includes("bearish")) return { class: "bias-bearish", label: bias, icon: "↘" };
  return { class: "bias-neutral", label: bias, icon: "→" };
}

const { class: biasClass, label, icon } = getBiasInfo(bias);

const sizeClasses = {
  sm: "text-xs px-2 py-1",
  md: "text-sm px-3 py-1.5",
  lg: "text-base px-4 py-2",
};
---

<span class:list={[biasClass, sizeClasses[size]]}>
  {label}
  <span class="text-[1.1em] ml-0.5">{icon}</span>
</span>
