---
// src/pages/performance.astro
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import TelegramCTA from "../components/TelegramCTA.astro";
import VIPCTA from "../components/VIPCTA.astro";
import { backtestResults } from "../data/backtest-results";
import { absoluteUrl } from "../lib/site";
import { formatNumber, DEFAULT_LOCALE } from "../lib/i18n";

interface AccuracyData {
  category: string;
  period: { days: number; since: string };
  overall: { total: number; correct: number; rate: number | null };
  byBias: Record<string, { total: number; correct: number; rate: number }>;
  recent: Array<{ date: string; bias: string; priceChange: number; correct: boolean }>;
}

interface StatsData {
  totalSignals: number;
  accuracyRate: number | null;
  signalsToday: number;
  last30Days: { byCategory: Record<string, number> };
  generatedAt: string;
}

const db = Astro.locals.runtime?.env?.DB;

let stats: StatsData | null = null;
let cryptoAccuracy: AccuracyData | null = null;
let forexAccuracy: AccuracyData | null = null;
let stocksAccuracy: AccuracyData | null = null;

if (db) {
  const today = new Date().toISOString().split("T")[0];
  const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split("T")[0];

  const [signals, accuracy, signalsToday, categories] = await Promise.all([
    db.prepare("SELECT COUNT(*) as count FROM signals").first<{ count: number }>(),
    db.prepare(`SELECT AVG(correct) * 100 as rate FROM signal_outcomes WHERE checked_at >= ?`).bind(thirtyDaysAgo).first<{ rate: number | null }>(),
    db.prepare("SELECT COUNT(*) as count FROM signals WHERE date = ?").bind(today).first<{ count: number }>(),
    db.prepare(`SELECT category, COUNT(*) as count FROM signals WHERE date >= ? GROUP BY category`).bind(thirtyDaysAgo).all<{ category: string; count: number }>(),
  ]);

  const categoryBreakdown: Record<string, number> = {};
  for (const row of categories.results || []) {
    categoryBreakdown[row.category] = row.count;
  }

  stats = {
    totalSignals: signals?.count ?? 0,
    accuracyRate: accuracy?.rate ? Math.round(accuracy.rate) : null,
    signalsToday: signalsToday?.count ?? 0,
    last30Days: { byCategory: categoryBreakdown },
    generatedAt: new Date().toISOString(),
  };

  const fetchCategoryAccuracy = async (category: string): Promise<AccuracyData | null> => {
    const cutoff = thirtyDaysAgo;

    const [statsQuery, recentQuery] = await Promise.all([
      db
        .prepare(`SELECT predicted_bias, COUNT(*) as total, SUM(correct) as correct FROM signal_outcomes WHERE category = ? AND checked_at >= ? GROUP BY predicted_bias`)
        .bind(category, cutoff)
        .all<{ predicted_bias: string; total: number; correct: number }>(),
      db
        .prepare(`SELECT s.date, o.predicted_bias as bias, o.price_change_pct, o.correct FROM signal_outcomes o JOIN signals s ON o.signal_id = s.id WHERE o.category = ? ORDER BY o.checked_at DESC LIMIT 10`)
        .bind(category)
        .all<{ date: string; bias: string; price_change_pct: number; correct: number }>(),
    ]);

    let total = 0;
    let correct = 0;
    const byBias: Record<string, { total: number; correct: number; rate: number }> = {
      Bullish: { total: 0, correct: 0, rate: 0 },
      Bearish: { total: 0, correct: 0, rate: 0 },
      Neutral: { total: 0, correct: 0, rate: 0 },
    };

    for (const row of statsQuery.results || []) {
      total += row.total;
      correct += row.correct;
      byBias[row.predicted_bias] = {
        total: row.total,
        correct: row.correct,
        rate: row.total > 0 ? Math.round((row.correct / row.total) * 100) : 0,
      };
    }

    return {
      category,
      period: { days: 30, since: cutoff },
      overall: { total, correct, rate: total > 0 ? Math.round((correct / total) * 100) : null },
      byBias,
      recent: (recentQuery.results || []).map((r) => ({
        date: r.date,
        bias: r.bias,
        priceChange: Math.round(r.price_change_pct * 100) / 100,
        correct: r.correct === 1,
      })),
    };
  };

  [cryptoAccuracy, forexAccuracy, stocksAccuracy] = await Promise.all([
    fetchCategoryAccuracy("crypto"),
    fetchCategoryAccuracy("forex"),
    fetchCategoryAccuracy("stocks"),
  ]);
}

const liveCategories = [
  { key: "crypto", label: "Crypto", icon: "₿", data: cryptoAccuracy },
  { key: "forex", label: "Forex", icon: "$", data: forexAccuracy },
  { key: "stocks", label: "Stocks", icon: "◊", data: stocksAccuracy },
];

const allRecent = liveCategories
  .flatMap(c => (c.data?.recent || []).map(r => ({ ...r, category: c.key, label: c.label })))
  .sort((a, b) => b.date.localeCompare(a.date))
  .slice(0, 15);

// Calculate total live signals verified
const totalLiveVerified = liveCategories.reduce((sum, c) => sum + (c.data?.overall.total ?? 0), 0);

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  itemListElement: [
    { "@type": "ListItem", position: 1, name: "Home", item: absoluteUrl("/") },
    { "@type": "ListItem", position: 2, name: "Performance", item: absoluteUrl("/performance") },
  ],
};
---

<BaseLayout
  title="Signal Performance"
  description="Track EverInvests signal accuracy across crypto, forex, and stocks. 62% historical accuracy over 1,247 backtested signals from 2019-2024."
  jsonLd={[breadcrumbSchema]}
>
  <Header slot="header" />

  <div class="space-y-8">
    <!-- Breadcrumb -->
    <nav class="flex items-center gap-2 text-sm" data-animate>
      <a href="/" class="text-txt-muted hover:text-txt-primary transition-colors">Home</a>
      <svg class="w-4 h-4 text-txt-muted/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
      <span class="text-txt-primary font-medium">Performance</span>
    </nav>

    <!-- Page Header -->
    <div class="text-center py-4" data-animate>
      <h1 class="font-display font-bold text-3xl sm:text-4xl text-txt-primary mb-3">Our Track Record</h1>
      <p class="text-txt-secondary max-w-xl mx-auto">
        We ran money. Now we share our edge. Here's the proof.
      </p>
    </div>

    <!-- ============================================================ -->
    <!-- SECTION 1: HISTORICAL PERFORMANCE (BACKTESTED) - PROMINENT -->
    <!-- ============================================================ -->

    <div class="card border-amber-500/30 bg-gradient-to-br from-amber-500/5 to-transparent" data-animate>
      <div class="flex items-center gap-2 mb-4">
        <span class="px-2 py-1 text-xs font-mono uppercase tracking-wider bg-amber-500/20 text-amber-400 rounded">Backtested</span>
        <span class="text-sm text-txt-muted">{backtestResults.period.start} – {backtestResults.period.end}</span>
      </div>

      <h2 class="font-display font-bold text-2xl text-txt-primary mb-2">Historical Performance</h2>
      <p class="text-sm text-txt-secondary mb-6">
        Our signal methodology backtested on 6 years of market data. Same logic we use today.
      </p>

      <!-- Headline Stats -->
      <div class="grid gap-4 sm:grid-cols-4 mb-6">
        <div class="text-center p-4 rounded-lg bg-subtle">
          <div class="font-mono text-3xl font-bold text-amber-400">{backtestResults.overallRate}%</div>
          <div class="text-xs text-txt-muted">Overall Accuracy</div>
          <div class="text-[10px] text-txt-muted/60">vs 50% random</div>
        </div>
        <div class="text-center p-4 rounded-lg bg-subtle">
          <div class="font-mono text-3xl font-bold text-txt-primary">{formatNumber(backtestResults.totalSignals, DEFAULT_LOCALE)}</div>
          <div class="text-xs text-txt-muted">Total Signals</div>
          <div class="text-[10px] text-txt-muted/60">7 years of data</div>
        </div>
        <div class="text-center p-4 rounded-lg bg-subtle">
          <div class="font-mono text-3xl font-bold text-bullish">{backtestResults.bestYear.rate}%</div>
          <div class="text-xs text-txt-muted">Best Year</div>
          <div class="text-[10px] text-txt-muted/60">{backtestResults.bestYear.year} (bull run)</div>
        </div>
        <div class="text-center p-4 rounded-lg bg-subtle">
          <div class="font-mono text-3xl font-bold text-bearish">{backtestResults.worstYear.rate}%</div>
          <div class="text-xs text-txt-muted">Worst Year</div>
          <div class="text-[10px] text-txt-muted/60">{backtestResults.worstYear.year} (bear market)</div>
        </div>
      </div>

      <!-- Year by Year Breakdown -->
      <div class="mb-6">
        <h3 class="text-sm font-medium text-txt-secondary mb-3">Year-by-Year Performance</h3>
        <div class="grid gap-2 sm:grid-cols-6">
          {backtestResults.byYear.map((year) => (
            <div class="text-center p-3 rounded-lg bg-void-100 border border-divider">
              <div class="font-mono text-lg font-bold text-txt-primary">{year.rate}%</div>
              <div class="text-xs text-txt-muted">{year.year}</div>
              <div class="text-[10px] text-txt-muted/60">n={year.total}</div>
            </div>
          ))}
        </div>
      </div>

      <!-- Category Breakdown -->
      <div class="mb-6">
        <h3 class="text-sm font-medium text-txt-secondary mb-3">Accuracy by Asset Class</h3>
        <div class="grid gap-3 sm:grid-cols-3">
          {backtestResults.byCategory.map((cat) => (
            <div class="flex items-center gap-3 p-3 rounded-lg bg-void-100 border border-divider">
              <span class="text-2xl">{cat.icon}</span>
              <div class="flex-1">
                <div class="font-medium text-txt-primary">{cat.name}</div>
                <div class="text-xs text-txt-muted">{cat.total} signals</div>
              </div>
              <div class="text-right">
                <div class="font-mono text-lg font-bold text-txt-primary">{cat.rate}%</div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Backtest Disclaimer -->
      <div class="p-4 rounded-lg bg-amber-500/10 border border-amber-500/20">
        <div class="flex items-start gap-3">
          <svg class="w-5 h-5 text-amber-400 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <p class="text-xs text-txt-muted">
            <strong class="text-amber-400">Backtested Results:</strong> {backtestResults.disclaimer}
          </p>
        </div>
      </div>
    </div>

    <!-- Heritage Callout -->
    <div class="card border-cyber/20" data-animate>
      <div class="flex items-start gap-4">
        <div class="w-12 h-12 rounded-xl bg-cyber/10 flex items-center justify-center shrink-0">
          <svg class="w-6 h-6 text-cyber" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
          </svg>
        </div>
        <div class="flex-1">
          <h2 class="font-display font-semibold text-lg text-txt-primary mb-2">The Story Behind the Numbers</h2>
          <p class="text-sm text-txt-secondary mb-4">
            We traded crypto with real money for 5 years. Our portfolio doubled every 2 years on average—through bull runs,
            crashes, and everything in between. The backtest above uses the exact same methodology we used (and still use) for live trading.
          </p>
          <div class="grid gap-4 sm:grid-cols-3">
            <div class="text-center p-3 rounded-lg bg-subtle">
              <div class="font-mono text-2xl font-bold text-bullish">2x</div>
              <div class="text-xs text-txt-muted">Every 2 Years</div>
              <div class="text-[10px] text-txt-muted/60">Real money returns</div>
            </div>
            <div class="text-center p-3 rounded-lg bg-subtle">
              <div class="font-mono text-2xl font-bold text-cyber">5</div>
              <div class="text-xs text-txt-muted">Years Live Trading</div>
              <div class="text-[10px] text-txt-muted/60">2019 – 2024</div>
            </div>
            <div class="text-center p-3 rounded-lg bg-subtle">
              <div class="font-mono text-2xl font-bold text-txt-primary">3</div>
              <div class="text-xs text-txt-muted">Checks Per Signal</div>
              <div class="text-[10px] text-txt-muted/60">Price + Volume + Sentiment</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- SECTION 2: LIVE SIGNAL VALIDATION - SECONDARY -->
    <!-- ============================================================ -->

    <div class="space-y-4" data-animate>
      <div class="flex items-center gap-3">
        <span class="px-2 py-1 text-xs font-mono uppercase tracking-wider bg-cyber/20 text-cyber rounded">Live</span>
        <h2 class="font-display font-semibold text-xl text-txt-primary">Live Signal Validation</h2>
      </div>
      <p class="text-sm text-txt-muted">
        {totalLiveVerified === 0 ? (
          <>
            We're tracking our live signals against actual market movements.
            <span class="text-cyber"> {stats?.totalSignals ?? 0} signals generated</span> — verification runs daily at 01:00 UTC after 24h of price data.
          </>
        ) : totalLiveVerified < 100 ? (
          <>
            We're tracking our live signals against actual market movements. Here's how we're doing since launch.
            <span class="text-mixed"> {totalLiveVerified} signals verified so far. Statistical significance requires ~100 signals per category.</span>
          </>
        ) : (
          <>We're tracking our live signals against actual market movements. Here's how we're doing since launch.</>
        )}
      </p>

      <!-- Overall Live Stats -->
      {stats && (
        <div class="grid gap-4 sm:grid-cols-3">
          <div class="card text-center py-6">
            <div class="font-mono text-4xl font-bold text-cyber mb-2">{formatNumber(stats.totalSignals, DEFAULT_LOCALE)}</div>
            <div class="text-sm text-txt-muted">Total Signals Generated</div>
          </div>
          <div class="card text-center py-6">
            {stats.accuracyRate !== null ? (
              <>
                <div class="font-mono text-4xl font-bold text-txt-primary mb-2">{stats.accuracyRate}%</div>
                <div class="text-sm text-txt-muted">30-Day Accuracy</div>
                <div class="text-xs text-txt-muted/60 mt-1">vs 50% random baseline</div>
              </>
            ) : (
              <>
                <div class="flex items-center justify-center gap-2 mb-2">
                  <svg class="w-5 h-5 text-cyber animate-spin" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  <span class="font-mono text-xl font-bold text-cyber">Verifying</span>
                </div>
                <div class="text-sm text-txt-muted">30-Day Accuracy</div>
                <div class="text-xs text-txt-muted/60 mt-1">First results after 24h</div>
              </>
            )}
          </div>
          <div class="card text-center py-6">
            <div class="font-mono text-4xl font-bold text-txt-secondary mb-2">{stats?.signalsToday ?? 0}</div>
            <div class="text-sm text-txt-muted">Signals Today</div>
          </div>
        </div>
      )}

      <!-- Category Breakdown -->
      <div class="grid gap-4 sm:grid-cols-3">
        {liveCategories.map(({ key, label, icon, data }) => (
          <div class="card">
            <div class="flex items-center gap-3 mb-4">
              <span class="text-2xl">{icon}</span>
              <div>
                <h3 class="font-display font-semibold text-lg text-txt-primary">{label}</h3>
                <a href={`/${key}`} class="text-xs text-cyber hover:underline">View signals →</a>
              </div>
            </div>

            {data && data.overall.total > 0 ? (
              <div class="space-y-4">
                <div class="flex items-center justify-center">
                  <div class="relative w-24 h-24">
                    <svg class="w-24 h-24 -rotate-90">
                      <circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="none" class="text-void-200"/>
                      <circle
                        cx="48" cy="48" r="40"
                        stroke="currentColor" stroke-width="8" fill="none"
                        stroke-dasharray={`${(data.overall.rate || 0) * 2.51} 251`}
                        class={data.overall.rate && data.overall.rate >= 60 ? "text-bullish" : data.overall.rate && data.overall.rate >= 50 ? "text-cyber" : "text-bearish"}
                      />
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                      <span class="font-mono text-xl font-bold text-txt-primary">{data.overall.rate ?? 0}%</span>
                    </div>
                  </div>
                </div>

                <div class="text-center text-sm text-txt-muted">
                  <span class="font-mono">{data.overall.correct} / {data.overall.total}</span> correct
                  <span class="text-xs ml-1">(n={data.overall.total})</span>
                </div>
                {data.overall.total < 30 && (
                  <div class="text-[10px] text-mixed text-center mt-1">
                    ⚠ Small sample—needs 30+ for statistical significance
                  </div>
                )}

                <div class="grid grid-cols-3 gap-2 text-center text-xs">
                  <div class="p-2 rounded bg-bullish/10">
                    <div class="font-mono text-bullish">{data.byBias.Bullish.rate}%</div>
                    <div class="text-txt-muted">Bullish</div>
                  </div>
                  <div class="p-2 rounded bg-void-100">
                    <div class="font-mono text-txt-secondary">{data.byBias.Neutral.rate}%</div>
                    <div class="text-txt-muted">Neutral</div>
                  </div>
                  <div class="p-2 rounded bg-bearish/10">
                    <div class="font-mono text-bearish">{data.byBias.Bearish.rate}%</div>
                    <div class="text-txt-muted">Bearish</div>
                  </div>
                </div>
              </div>
            ) : (
              <div class="text-center py-6">
                <div class="relative w-24 h-24 mx-auto mb-3">
                  <svg class="w-24 h-24 -rotate-90">
                    <circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="none" class="text-void-200"/>
                    <!-- Animated pulse to show activity -->
                    <circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="none" class="text-cyber/30 animate-pulse"/>
                  </svg>
                  <div class="absolute inset-0 flex items-center justify-center">
                    <svg class="w-6 h-6 text-cyber animate-spin" fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                  </div>
                </div>
                <div class="text-sm text-cyber font-medium">Verification in Progress</div>
                <div class="text-[10px] text-txt-muted/60 mt-1">Results appear after 24h of price data</div>
              </div>
            )}
          </div>
        ))}
      </div>
    </div>

    <!-- Recent Outcomes Timeline -->
    {allRecent.length > 0 && (
      <div class="card" data-animate>
        <h2 class="font-display font-semibold text-lg text-txt-primary mb-4">Recent Outcomes</h2>
        <div class="space-y-3">
          {allRecent.map((outcome) => (
            <div class="flex items-center gap-3 py-2 border-b border-divider last:border-0">
              <div class={`w-8 h-8 rounded-full flex items-center justify-center ${outcome.correct ? 'bg-bullish/20 text-bullish' : 'bg-bearish/20 text-bearish'}`}>
                {outcome.correct ? (
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                ) : (
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                  </svg>
                )}
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2">
                  <span class="text-sm font-medium text-txt-primary">{outcome.label}</span>
                  <span class={`text-xs px-2 py-0.5 rounded ${outcome.bias === 'Bullish' ? 'bg-bullish/10 text-bullish' : outcome.bias === 'Bearish' ? 'bg-bearish/10 text-bearish' : 'bg-void-100 text-txt-secondary'}`}>
                    {outcome.bias}
                  </span>
                </div>
                <div class="text-xs text-txt-muted">
                  {outcome.date} • {outcome.priceChange >= 0 ? '+' : ''}{outcome.priceChange}%
                </div>
              </div>
              <div class={`text-xs font-medium ${outcome.correct ? 'text-bullish' : 'text-bearish'}`}>
                {outcome.correct ? 'Correct' : 'Incorrect'}
              </div>
            </div>
          ))}
        </div>
      </div>
    )}

    <!-- Methodology Section -->
    <div class="card" data-animate>
      <h3 class="font-display font-semibold text-lg text-txt-primary mb-4">Methodology & Caveats</h3>

      <div class="space-y-4 text-sm text-txt-muted">
        <div>
          <h4 class="font-medium text-txt-secondary mb-1">How We Measure Accuracy</h4>
          <p>
            Signals are verified against next-day price movements. Bullish signals are marked correct if price rises,
            bearish if it falls. Neutral signals are considered correct if price moves less than 0.5%.
          </p>
        </div>

        <div>
          <h4 class="font-medium text-txt-secondary mb-1">Backtest vs Live</h4>
          <p>
            <strong class="text-amber-400">Backtested results</strong> apply our current methodology to historical data (2019-2024).
            <strong class="text-cyber">Live validation</strong> tracks actual signals generated since launch.
            Backtests are inherently optimistic—live performance is the true test.
          </p>
        </div>

        <div>
          <h4 class="font-medium text-txt-secondary mb-1">Important Limitations</h4>
          <ul class="list-disc pl-5 space-y-1">
            <li><strong>Not Trading Returns:</strong> Accuracy measures directional prediction only, not actual P&L</li>
            <li><strong>No Transaction Costs:</strong> Real trading involves spreads, fees, slippage, and timing</li>
            <li><strong>Backtest Bias:</strong> Historical tests can overfit; live results may differ</li>
            <li><strong>Market Conditions:</strong> Performance varies significantly in different regimes</li>
            <li><strong>Sample Size:</strong> Statistical significance requires hundreds of signals</li>
          </ul>
        </div>

        <div class="border-t border-divider pt-4 mt-4">
          <p class="text-xs text-txt-muted/80">
            <strong>Disclaimer:</strong> Past performance does not guarantee future results.
            These metrics are for informational purposes only and should not be the sole basis for any investment decision.
            <a href="/terms" class="text-accent hover:underline">Read full disclaimer →</a>
          </p>
        </div>
      </div>
    </div>

    <!-- VIP Conviction Teaser -->
    <div class="card border-vip/20 text-center py-8" data-animate>
      <h3 class="font-display font-semibold text-lg text-txt-primary mb-2">Good signals aren't enough.</h3>
      <p class="text-sm text-txt-muted mb-4 max-w-lg mx-auto">
        Most traders don't lose because of bad calls—they lose because they can't hold through the dips.
        VIP shows you the whale activity, the AI debates, and the full reasoning. So you actually trust your positions.
      </p>
    </div>

    <!-- VIP CTA -->
    <VIPCTA category="performance" mode="waitlist" utmSource="performance_page" />

    <!-- Telegram CTA -->
    <TelegramCTA variant="compact" />
  </div>

  <Footer slot="footer" />
</BaseLayout>
